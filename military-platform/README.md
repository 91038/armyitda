# 군대 플랫폼 프로젝트

## 소개
본 프로젝트는 군대 관련 업무를 디지털화하여 효율적으로 관리할 수 있는 웹 기반 플랫폼입니다.

## 주요 기능

### 1. 휴가 관리 시스템
- 휴가 신청, 승인, 거절 처리
- 휴가 일정 관리 및 통계 확인
- 다중 선택 및 일괄 삭제 기능
- 실시간 상태 업데이트
- 휴가 승인 시 자동 휴가 일수 차감

### 2. 휴가 부여 관리 시스템
- 병사/간부 검색 및 선택
- 인원별 휴가 목록 조회
- 휴가 추가 및 삭제 기능
- 다양한 휴가 유형 지원 (정기휴가, 포상휴가, 청원휴가 등)

## 휴가 부여 관리 사용 방법

### 인원 검색 및 선택
1. 좌측 패널에서 '병사' 또는 '간부' 탭을 선택합니다.
2. 검색창을 이용해 이름, 계급, 부대 등으로 검색합니다.
3. 목록에서 인원을 클릭하여 선택합니다.

### 휴가 목록 조회
- 인원을 선택하면 우측 패널에 해당 인원의 휴가 목록이 표시됩니다.
- 휴가 유형, 기간, 상태 등의 정보를 확인할 수 있습니다.

### 휴가 부여
1. 인원을 선택한 후 '휴가 부여' 버튼을 클릭합니다.
2. 휴가 종류, 일수, 부여 사유, 부여일을 입력합니다.
3. '휴가 부여' 버튼을 클릭하여 완료합니다.

### 휴가 삭제
- 휴가 목록에서 삭제 아이콘을 클릭합니다.
- 확인 다이얼로그에서 '삭제' 버튼을 클릭하여 완료합니다.

### 휴가 승인 및 일수 차감
1. 휴가 목록에서 승인할 휴가를 선택합니다.
2. '승인' 버튼을 클릭하면 해당 휴가가 승인되고 사용자의 휴가 일수가 자동으로 차감됩니다.
3. 차감된 휴가 일수는 모바일 앱 화면에서 즉시 반영됩니다.
4. 휴가 일수가 부족할 경우에도 승인은 가능하며, 잔여 일수가 0으로 표시됩니다.

## 휴가 데이터 정리

데이터 불일치 문제가 발생할 경우 데이터 정리 스크립트를 사용할 수 있습니다.

### 스크립트 실행 방법
1. 프로젝트 루트 디렉토리에서 다음 명령어를 실행합니다:
   ```
   node scripts/clean-leave-data.js
   ```

2. 스크립트는 다음 작업을 수행합니다:
   - 중복된 휴가 부여 내역 제거
   - 사용자별 휴가 잔여일수 재계산
   - 데이터 정합성 확보

### 주의사항
- 스크립트 실행 전 데이터 백업을 권장합니다.
- 실행 중 Firebase 인덱스 오류가 발생할 수 있으니 제공된 URL을 통해 인덱스를 생성해주세요.

## 기술 스택
- Next.js
- TypeScript
- Firebase (Firestore, Authentication)
- Shadcn UI
- React Native (모바일 앱) 